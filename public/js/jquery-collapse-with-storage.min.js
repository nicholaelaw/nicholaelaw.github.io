(function(d){function f(a,c){c=c||{};var b=this,e=c.query||"> :even";d.extend(b,{$el:a,options:c,sections:[],isAccordion:c.accordion||!1,db:c.persist?jQueryCollapseStorage(a.get(0).id):!1});b.states=b.db?b.db.read():[];b.$el.find(e).each(function(){new jQueryCollapseSection(d(this),b)});(function(a){b.$el.on("click","[data-collapse-summary] "+(a.options.clickQuery||""),d.proxy(b.handleClick,a));b.$el.bind("toggle close open",d.proxy(b.handleEvent,a))})(b)}function e(a,c){c.options.clickQuery||a.wrapInner('<a href="#"/>');
d.extend(this,{isOpen:!1,$summary:a.attr("data-collapse-summary",""),$details:a.next(),options:c.options,parent:c});c.sections.push(this);var b=c.states[this._index()];0===b?this.close(!0):this.$summary.is(".open")||1===b?this.open(!0):this.close(!0)}f.prototype={handleClick:function(a,c){a.preventDefault();c=c||"toggle";for(var b=this.sections,e=b.length;e--;)if(d.contains(b[e].$summary[0],a.target)){b[e][c]();break}},handleEvent:function(a){if(a.target==this.$el.get(0))return this[a.type]();this.handleClick(a,
a.type)},open:function(a){if(isFinite(a))return this.sections[a].open();d.each(this.sections,function(a,b){b.open()})},close:function(a){if(isFinite(a))return this.sections[a].close();d.each(this.sections,function(a,b){b.close()})},toggle:function(a){if(isFinite(a))return this.sections[a].toggle();d.each(this.sections,function(a,b){b.toggle()})}};e.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(a){this._changeState("close",a)},open:function(a){this.options.accordion&&
!a&&d.each(this.parent.sections,function(a,b){b.close()});this._changeState("open",a)},_index:function(){return d.inArray(this,this.parent.sections)},_changeState:function(a,c){this.isOpen="open"==a;if(d.isFunction(this.options[a])&&!c)this.options[a].apply(this.$details);else this.$details[this.isOpen?"show":"hide"]();this.$summary.toggleClass("open","close"!=a);this.$details.attr("aria-hidden","close"==a);this.$summary.attr("aria-expanded","open"==a);this.$summary.trigger("open"==a?"opened":"closed",
this);this.parent.db&&this.parent.db.write(this._index(),this.isOpen)}};d.fn.extend({collapse:function(a,c){return(c?d("body").find("[data-collapse]"):d(this)).each(function(){var b=c?{}:a,e=d(this).attr("data-collapse")||"";d.each(e.split(" "),function(a,c){c&&(b[c]=!0)});new f(d(this),b)})}});d(function(){d.fn.collapse(!1,!0)});jQueryCollapse=f;jQueryCollapseSection=e})(window.jQuery);
(function(d){function f(d,a){this.id=d;this.db=a;this.data=[]}f.prototype={write:function(e,a){var c=this;c.data[e]=a?1:0;d.each(c.data,function(a){"undefined"==typeof c.data[a]&&(c.data[a]=0)});var b=this._getDataObject();b[this.id]=this.data;this.db.setItem("jQuery-Collapse",JSON.stringify(b))},read:function(){return this._getDataObject()[this.id]||[]},_getDataObject:function(){var d=this.db.getItem("jQuery-Collapse");return d?JSON.parse(d):{}}};jQueryCollapseStorage=function(e){var a;try{a=window.localStorage||
d.fn.collapse.cookieStorage}catch(c){a=!1}return a?new f(e,a):!1}})(jQuery);